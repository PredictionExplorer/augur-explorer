<html>
<head>
	<link href="/black/res/main.css" rel="stylesheet">
	<title>Open Interest history for Polymarkets Market {{.MarketId}}</title>
</head>
<body>
	<h3 class="page_title">Open Interest history for market id = {{.MarketId}}</h3>
<table class="market_detail">
</table>
<div id="price_history_graph"></div>
<h3>Collateral Transfers</h3>
<table>
	<tr class="market_reports">
		<th class="market_reports">TxId</th>
		<th class="market_reports">Date </th>
		<th class="market_reports">From Address</th>
		<th class="market_reports">To Address</th>
		<th class="market_reports">Amount (USDC)</th>
		<th class="market_reports">Fee <br>(USDC)</th>
		<th class="market_reports">Int Fee <br>(USDC)</th>
		<th class="market_reports">Fees <br>(USDC)</th>
		<th class="market_reports">Int Fees <br>(USDC)</th>
		<th class="market_reports">Open Interest<br>(UDSC)</th>
		<th class="market_reports">Calculated OI<br>(UDSC)</th>
		<th class="market_reports">Contract Balance</th>
		<th class="market_reports">Adj. Balance</th>
		<th class="market_reports">Notes</th>

	</tr>
	{{- range $i, $change := .OIHistory}}
		<tr class="market_reports">
			<td class="market_reports_field">
				{{ if gt .TxId 0 }}
					{{.TxId}}
				{{ end }}
			</td>
			<td class="market_reports_field" title="{{.BalChgId}}">
				{{.DateTime}}
			</td>
			<td class="addr" title="{{.FromAid}}">
				{{ if gt .TxId 0 }}
					{{ if eq .FromAid $.CondTokAid }}Conditional Tokens
					{{ else }}
						{{ if eq .FromAid $.USDCAid }}
							USDC
						{{ else }}
							{{ if eq .FromAid $.MktMkrAid }}
								Market Maker
							{{ else }}
								{{.FromAddr}}
							{{end}}
						{{ end }}
					{{end}}
				{{ else }}
					<b>Market resolved</b>
				{{ end }}
			</td>
			<td class="addr" title="{{.ToAid}}">
				{{ if eq .ToAid $.CondTokAid }}
					Conditional Tokens
				{{else}}
					{{if eq .ToAid $.USDCAid }}
						USDC
					{{else}}
						{{ if eq .ToAid $.MktMkrAid }}
							Market Maker
						{{ else }}
							{{.ToAddr}}
						{{ end }}
					{{end}}
				{{end}}
			</td>
			<td class="market_reports_field" style="text-align: right;">
				{{ if gt .TxId 0 }}{{printf "%.6f" .Amount}}{{end}}
			</td>
			<td class="market_reports_field" style="text-align: right;">
				{{ if gt .TxId 0 }}{{printf "%.6f" .Fee}}{{end}}
			</td>
			<td class="market_reports_field" style="text-align: right;">
				{{ if gt .TxId 0 }}{{printf "%.0f" .IntegerFee}}{{end}}
			</td>
			<td class="market_reports_field" style="text-align: right;">
				{{ if gt .TxId 0 }}{{printf "%.6f" .FeeAccum}}{{end}}
			</td>
			<td class="market_reports_field" style="text-align: right;">
				{{ if gt .TxId 0 }}{{printf "%.0f" .IntegerFeeAccum}}{{end}}
			</td>
			<td class="market_reports_field" style="text-align: right;">
				{{ if gt .TxId 0 }}{{printf "%.6f" .OpenInterest}}{{end}}
			</td>
			<td class="market_reports_field" style="text-align: right;">
				{{ if gt .TxId 0 }}{{printf "%.6f" .OIVerif}}{{end}}
			</td>
			<td class="market_reports_field" style="text-align: right;">
				{{ if gt .TxId 0 }}
					{{ if eq .UserAid $.MktMkrAid }}
						{{printf "%.6f" .Balance}}
					{{ else }}
						N/A
					{{ end }}
				{{ end }}
			</td>
			<td class="market_reports_field" style="text-align: right;">
				{{ if eq .ToAid $.MktMkrAid }}
					{{printf "%.6f" .AdjustedBalance}}
				{{ end }}
			</td>
			<td nowrap class="market_reports_field">
				{{ if gt .TxId 0 }}
					{{ if gt .BuySellOpId 0 }}
						{{ if eq .BuySellOpType 0 }} Buy {{ else }} Sell {{end}}
					{{ end }}
					{{ if gt .FundOpId 0 }}
						{{ if eq .FundOpType 0 }} Add Funds {{ else }} Remove Funds {{end}}
					{{ end }}
					{{ if gt .RedeemId 0 }}Payout redemption{{end}}
				<b>Ids:</b> BySellId: {{.BuySellOpId}} &nbsp; AddRemId: {{.FundOpId}} &nbsp; BuySellOpType: {{.BuySellOpType}}
				{{ else }}
					payout numerators are: {{.PayoutNumerators}}
				{{ end}}
			</td>
		</tr>
	{{- end}}
</table>
<br/><br/>
</body>
</html>
